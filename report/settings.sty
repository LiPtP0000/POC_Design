\newtcolorbox{FancyBoxA}[2][]{enhanced,skin=enhancedlast jigsaw,
  attach boxed title to top left={xshift=-4mm,yshift=-0.5mm},
  fonttitle=\bfseries\sffamily,varwidth boxed title=0.7\linewidth,
  colbacktitle=blue!45!white,colframe=red!50!black,
  interior style={top color=blue!10!white,bottom color=red!10!white},
  boxed title style={empty,arc=0pt,outer arc=0pt,boxrule=0pt},
  underlay boxed title={
    \fill[blue!45!white] (title.north west) -- (title.north east)
      -- +(\tcboxedtitleheight-1mm,-\tcboxedtitleheight+1mm)
      -- ([xshift=4mm,yshift=0.5mm]frame.north east) -- +(0mm,-1mm)
      -- (title.south west) -- cycle;
    \fill[blue!45!white!50!black] ([yshift=-0.5mm]frame.north west)
      -- +(-0.4,0) -- +(0,-0.3) -- cycle;
    \fill[blue!45!white!50!black] ([yshift=-0.5mm]frame.north east)
      -- +(0,-0.3) -- +(0.4,0) -- cycle; },
  title={#2},#1
}
\newtcolorbox{FancyBoxB}[2][]{width=0.8\textwidth,enhanced,skin=enhancedlast jigsaw,
attach boxed title to top left={xshift=-4mm,yshift=-0.5mm},
fonttitle=\bfseries,varwidth boxed title=0.7\linewidth,
colbacktitle=gray!85!white,colframe=gray!50!black,
interior style={top color=gray!10!white,bottom color=gray!20!white},
boxed title style={empty,arc=0pt,outer arc=0pt,boxrule=0pt},
underlay boxed title={
  \fill[gray!85!white] (title.north west) -- (title.north east)
    -- +(\tcboxedtitleheight-1mm,-\tcboxedtitleheight+1mm)
    -- ([xshift=4mm,yshift=0.5mm]frame.north east) -- +(0mm,-1mm)
    -- (title.south west) -- cycle;
  \fill[gray!85!white!50!black] ([yshift=-0.5mm]frame.north west)
    -- +(-0.4,0) -- +(0,-0.3) -- cycle;
  \fill[gray!85!white!50!black] ([yshift=-0.5mm]frame.north east)
    -- +(0,-0.3) -- +(0.4,0) -- cycle; },
title={#2},#1
}
\newcommand{\ltxlabel}{\ltx@label}% User-level access to original LaTeX \label
% \addbibresource{ref/IEEEabrv.bib}
% \addbibresource{ref/ref.bib}
\AtBeginBibliography{\small} % bib font size

% Algorithm Settings
\newcommand{\RemoveAlgoNumber}{\renewcommand{\fnum@algocf}{\AlCapSty{\AlCapFnt\algorithmcfname}}}
\newcommand{\RevertAlgoNumber}{\algocf@resetfnum}

% Define the custom style for comments
\SetCommentSty{myCommentStyle}

% Custom comment style command
\newcommand{\myCommentStyle}[1]{\remark{#1}} % Comment text

% set the code style
\RequirePackage{listings}
\RequirePackage{xcolor}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\lstset{
	numbers=none,  
	frame=tb,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=fixed,
	framerule=1pt,
	rulecolor=\color{gray!35},
	%backgroundcolor=\color{gray!5},
	basicstyle={\ttfamily\footnotesize},
	numberstyle=\tiny\color{gray},
	keywordstyle=\color{blue},
	commentstyle=\color{mygreen},
	stringstyle=\color{mauve},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=4,
  extendedchars=false,
  postbreak=\mbox{\hspace{-5.3mm}\textcolor{purple}{$\hookrightarrow$}\space},
  extendedchars = true,  % Extended ASCII
  literate      =        % Support additional characters
    {á}{{\'a}}1  {é}{{\'e}}1  {í}{{\'i}}1 {ó}{{\'o}}1  {ú}{{\'u}}1
    {Á}{{\'A}}1  {É}{{\'E}}1  {Í}{{\'I}}1 {Ó}{{\'O}}1  {Ú}{{\'U}}1
    {à}{{\`a}}1  {è}{{\`e}}1  {ì}{{\`i}}1 {ò}{{\`o}}1  {ù}{{\`u}}1
    {À}{{\`A}}1  {È}{{\'E}}1  {Ì}{{\`I}}1 {Ò}{{\`O}}1  {Ù}{{\`U}}1
    {ä}{{\"a}}1  {ë}{{\"e}}1  {ï}{{\"i}}1 {ö}{{\"o}}1  {ü}{{\"u}}1
    {Ä}{{\"A}}1  {Ë}{{\"E}}1  {Ï}{{\"I}}1 {Ö}{{\"O}}1  {Ü}{{\"U}}1
    {â}{{\^a}}1  {ê}{{\^e}}1  {î}{{\^i}}1 {ô}{{\^o}}1  {û}{{\^u}}1
    {Â}{{\^A}}1  {Ê}{{\^E}}1  {Î}{{\^I}}1 {Ô}{{\^O}}1  {Û}{{\^U}}1
    {œ}{{\oe}}1  {Œ}{{\OE}}1  {æ}{{\ae}}1 {Æ}{{\AE}}1  {ß}{{\ss}}1
    {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1  {Ø}{{\O}}1   {å}{{\r a}}1
    {Å}{{\r A}}1 {ã}{{\~a}}1  {õ}{{\~o}}1 {Ã}{{\~A}}1  {Õ}{{\~O}}1
    {ñ}{{\~n}}1  {Ñ}{{\~N}}1  {¿}{{?`}}1  {¡}{{!`}}1
    {°}{{\textdegree}}1 {º}{{\textordmasculine}}1 {ª}{{\textordfeminine}}1
    % ¿ and ¡ are not correctly displayed if inconsolata font is used
    % together with the lstlisting environment. Consider typing code in
    % external files and using \lstinputlisting to display them instead.
}

\newtheorem{proposition}{Proposition}

% option for tabular with '\midrule'
\aboverulesep = 0mm \belowrulesep = 0mm

\newcommand{\grayrow}{\rowcolor[rgb]{ .906,  .902,  .902}}

% \renewcommand{\section}{\@startsection{section}{1}{0mm}
%   {-\baselineskip}{0.5\baselineskip}{\bf\leftline}}

% Customize the chapter style
\titleformat{\chapter}[hang]  % Use "runin" to place the title on the same line as the number
  {\normalfont\huge\bfseries}  % Apply any desired formatting
  {\thechapter\quad} % Format for the chapter number (e.g., add space)
  {0pt} % Space between number and title
  {\huge\bfseries}[\thispagestyle{chapterstyle}]  % Format for chapter title

% Adjust the spacing before chapter title, e.g., 0pt before and 50pt after
\titlespacing*{\chapter}
  {0pt} % Left margin
  {0pt} % Before the chapter title
  {30pt} % After the chapter title; Adjust to suit

% Header and Footer settings
\fancypagestyle{fancy}{
  \fancyhf{}
  \fancyhead[L]{\thechapter\quad\leftmark}
  \fancyfoot[C]{\thepage}
  \renewcommand{\headrulewidth}{0.4pt} %改为0pt即可去掉页眉下面的横线
  \renewcommand{\footrulewidth}{0pt} %改为0pt即可去掉页脚上面的横线
}

\fancypagestyle{chapterstyle}{
  \fancyhf{}
  \fancyfoot[C]{\thepage}
  \renewcommand{\headrulewidth}{0pt}
  \renewcommand{\footrulewidth}{0pt}
}

% Make sure \leftmark contains the chapter name
\renewcommand{\chaptermark}[1]{%
  \markboth{#1}{}%
}

% \let\oldchapter\chapter
% \renewcommand{\chapter}{%
%   \thispagestyle{fancy}% Use fancy page style for chapters
%   \oldchapter}

% % Apply the custom style to all chapter pages using \chapter command
% \usepackage{etoolbox}
% \patchcmd{\@makechapterhead}{\thispagestyle{plain}}{\thispagestyle{chapterstyle}}{}{}
% \patchcmd{\@makeschapterhead}{\thispagestyle{plain}}{\thispagestyle{chapterstyle}}{}{}

\newcommand{\rmnum}[1]{\romannumeral #1}
\newcommand{\Rmnum}[1]{\expandafter\@slowromancap\romannumeral #1@}
%\renewcommand{\figurename}{\small{Fig.}~}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{myblued}{RGB}{0,114,189}
\definecolor{myred}{RGB}{217,83,25}
\definecolor{mygreen}{RGB}{32,134,48}
\definecolor{myyellow}{RGB}{237,137,32}
\definecolor{mypurple}{RGB}{126,47,142}
\definecolor{myblues}{RGB}{77,190,238}

\newcommand{\warning}[1]{\textcolor{red}{\textbf{#1}}} % Warning text
\newcommand{\success}[1]{\textcolor{mygreen}{\textbf{#1}}} % Success indecator
\newcommand{\remark}[1]{\textcolor{mygreen}{#1}} % Comment text
\newcommand{\revise}[1]{\textcolor{blue}{#1}} % Revised text

% \titleformat{\section}
% {\normalfont\Large\bfseries}{\thesection}{1em}{}

% Define a new column type for left-aligned text with specific width and ragged right
\newcolumntype{P}[1]{>{\RaggedRight\arraybackslash}p{#1}}

\newcommand{\@modulename}{} % Define \@modulename
\newcommand{\modulename}[1]{
    \renewcommand{\@modulename}{#1}
}
\newcommand{\@version}{} % Define \@version
\newcommand{\version}[1]{
    \renewcommand{\@version}{#1}
}
\newcommand{\@revision}{} % Define \@revision
\newcommand{\revision}[1]{
    \renewcommand{\@revision}{#1}
}
\newcommand{\@releasenotes}{} % Define \@releasenotes
\newcommand{\@ifreleasenotes}{0}
\newcommand{\releasenotes}[1]{
    \renewcommand{\@ifreleasenotes}{1}
    \renewcommand{\@releasenotes}{#1}
}
\renewcommand{\@title}{PyTV Module Design Document}
\RenewDocumentCommand \maketitle { }
    {
        \pagenumbering{roman}
        \pagestyle{empty}
        \begin{center}
            \vspace*{1cm}
            \textbf{\Huge\@title}
            \vspace{1cm}
            \par
            {
                \Large
                \renewcommand \tabcolsep { 18pt }
                \renewcommand \arraystretch { 1.3 }
                \begin{tabular}{l l}
                    Module: & \textsc{\Large\@modulename} \\
                    Author: & \Large\@author \\
                    Date: & \Large\@date \\
                    Version: & \Large\@version \\
                \end{tabular}
            }
          \end{center}
          \clearpage
          \textbf{\Large{Revision History:}}
          \vspace{.1cm}
          \par
          {
              \normalsize
              \renewcommand \tabcolsep { 10pt }
              \renewcommand \arraystretch { 1.3 }
              \begin{longtable}{P{.08\linewidth} P{.15\linewidth} P{.15\linewidth} P{.4\linewidth}}
                  \toprule
                  Version & Author & Date & Notes \\
                  \midrule
                  \@revision
                  \bottomrule
              \end{longtable}
          }
          \ifnum\@ifreleasenotes=1
              \vspace{.8cm}
              \par
              \textbf{\Large{Release Notes:}}
              \vspace{.4cm}
              \par
              {
                \normalsize
                \@releasenotes
                  % \normalsize
                  % \begin{FancyBoxB}{Release Notes}
                  %     \@releasenotes
                  % \end{FancyBoxB}
              }
          \fi
        \clearpage
        % \tableofcontents
        % \clearpage
    }
\ExplSyntaxOff


